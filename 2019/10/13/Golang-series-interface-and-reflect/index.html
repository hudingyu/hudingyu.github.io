<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content>
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          Go基础系列：深入理解 interface和reflect - Turling的博客 | Turling Blog
        
    </title>

    <link rel="canonical" href="https://turling.me/2019/10/13/Golang-series-interface-and-reflect/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- ga & ba script hoook -->
    <script></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script src="https://cdn.bootcss.com/blueimp-md5/2.11.0/js/md5.min.js"></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Turling Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://turling.me/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('star-sky.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#Golang" title="Golang">Golang</a>
                        
                    </div>
                    <h1>Go基础系列：深入理解 interface和reflect</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by Turling on
                        2019-10-13
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <div class="output_wrapper" id="output_wrapper_id" style="font-size: 15px; color: rgb(62, 62, 62); line-height: 1.8; word-spacing: 2px; letter-spacing: 2px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; background-size: 20px 20px; background-position: center center;"><h3 id="h" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: rgb(239, 112, 96); color: rgb(255, 255, 255); padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">前言</span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid rgb(239, 235, 233); border-right: 20px solid transparent;"> </span></h3><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>（即接口），是Go语言中一个重要的概念和知识点，而功能强大的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>正是基于<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>。本文即是对Go语言中的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>相关知识较为全面的梳理，也算是我阶段学习的总结，以期温故而知新。文章较长，请读者做好心理准备。</p><br><h3 id="hinterface" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: rgb(239, 112, 96); color: rgb(255, 255, 255); padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">interface（接口）</span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid rgb(239, 235, 233); border-right: 20px solid transparent;"> </span></h3><br><h4 id="h-1" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">定义</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">在Go语言中，如果自定义类型（比如<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">struct</code>）实现了某个<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>中的所有方法，那么就可以说这个类型实现了这个接口。接口可如下定义：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">type&nbsp;接口名称&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;method1(参数列表)&nbsp;返回值列表&nbsp;&nbsp;&nbsp;&nbsp;method1(参数列表)&nbsp;返回值列表&nbsp;&nbsp;&nbsp;&nbsp;…}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>是一组方法的集合，但并不需要实现这些方法，并且<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>中<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">没有变量</strong>。<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>中的方法集合可以表示一个对象的特征和能力，当自定义类型需要使用这些方法时，可以根据需要把这些方法实现出来。举个栗子：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Animal&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Eat()&nbsp;&nbsp;&nbsp;&nbsp;Run()}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Cat&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;<em>Dog)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(cat&nbsp;<em>Cat)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;cat.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(cat&nbsp;Cat)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;cat.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal1&nbsp;Animal&nbsp;&nbsp;&nbsp;&nbsp;animal1&nbsp;=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}&nbsp;&nbsp;&nbsp;&nbsp;animal1.Eat()&nbsp;&nbsp;&nbsp;&nbsp;animal1.Run()&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal2&nbsp;Animal&nbsp;&nbsp;&nbsp;&nbsp;animal2&nbsp;=&nbsp;&amp;Cat{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“catty”</span>}&nbsp;&nbsp;&nbsp;&nbsp;animal2.Eat()&nbsp;&nbsp;&nbsp;&nbsp;animal2.Run()}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">上面即定义了一个Animal接口，以及Dog类型和Cat类型。Dog类型和Cat类型都实现了Animal接口中的方法，所以Dog和Cat都是Animal类型。同时接口<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">本身不能创建实例</strong>，但从上例可以看出，接口类型的变量可以指向一个实现了该接口的自定义类型的实例。<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>类型默认是一个指针(引用类型)，如果没有对<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>初始化就使用，那么会输出<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">nil</code>。</p><br><h4 id="h-2" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">空接口</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">空接口<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface{}</code>没有任何方法，所以所有类型都实现了空接口, 即我们可以把任何一个变量赋值给空接口。修改一下上面的main函数：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{}&nbsp;&nbsp;&nbsp;&nbsp;dog&nbsp;:=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}&nbsp;&nbsp;&nbsp;&nbsp;animal&nbsp;=&nbsp;dog&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(animal)}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">运行结果：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">&amp;{doggy}</code></pre><br><h4 id="h-3" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">接口继承</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">一个接口可以继承多个其他接口，如果要实现这个接口，那么必须将所继承的所有接口中的方法都实现。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Eater&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Eat()}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Runner&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Run()}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Animal&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Eater&nbsp;&nbsp;&nbsp;&nbsp;Runner}<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;这里定义一个Dog的struct，并实现eat方法和run方法，这样就实现了动物的接口</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;<em>Dog)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal1&nbsp;Animal&nbsp;&nbsp;&nbsp;&nbsp;animal1&nbsp;=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}&nbsp;&nbsp;&nbsp;&nbsp;animal1.Eat()&nbsp;&nbsp;&nbsp;&nbsp;animal1.Run()}</code></pre><br><h4 id="h-4" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">类型断言</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">当我们不确定某个接口变量里存储的是什么类型的变量时，我们可以利用类型断言来判断变量类型。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal1&nbsp;Animalanimal1&nbsp;=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}dog&nbsp;:=&nbsp;animal1.(<em>Dog)</em></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">在进行类型断言时，如果类型不匹配，就会报<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">panic</code>, 因此需要加上检测机制，如果成功就 ok,否则也不要报 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">panic</code>。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal1&nbsp;Animalanimal1&nbsp;=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;dog,&nbsp;ok&nbsp;:=&nbsp;animal1.(Dog);&nbsp;ok&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“convert&nbsp;success”</span>)&nbsp;&nbsp;&nbsp;&nbsp;dog.Run()}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“convert&nbsp;fail”</span>)}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">另外我们也可以使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">switch-type</code>语法进行类型断言：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Eater&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Eat()}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Runner&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Run()}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Animal&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Eater&nbsp;&nbsp;&nbsp;&nbsp;Runner}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Cat&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;<em>Dog)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(cat&nbsp;<em>Cat)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;cat.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(cat&nbsp;Cat)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;cat.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">TypeJudge</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(animals&nbsp;…<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;index,&nbsp;animal&nbsp;:=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">range</span>&nbsp;animals&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">switch</span>&nbsp;animal.(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">case</span>&nbsp;<em>Dog:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“第%d个参数是Dog类型\n”</span>,&nbsp;index)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">case</span>&nbsp;</em>Cat:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“第%d个参数是Cat类型\n”</span>,&nbsp;index)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">default</span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“不确定类型”</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;}}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal1&nbsp;Animal&nbsp;&nbsp;&nbsp;&nbsp;animal1&nbsp;=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;animal2&nbsp;Animal&nbsp;&nbsp;&nbsp;&nbsp;animal2&nbsp;=&nbsp;&amp;Cat{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“catty”</span>}&nbsp;&nbsp;&nbsp;&nbsp;TypeJudge(animal1,&nbsp;animal2)}</code></pre><br><h4 id="h-5" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">作用</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>对于Go语言的意义在于其实现了泛型，比如在一个函数中需要能接收不同类型的参数或者返回不同类型的值，而不是一开始就指定参数或者返回值的类型，这样就可以让函数支持所有类型：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">FuncName</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(arg1&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{},&nbsp;rest&nbsp;…<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">interface</span></span>{}&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;…</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">面向对象语言比如C++、Java都有多态的特性，可以说<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>是Go语言中实现多态的一种形式。同一个interface，可以让不同的类（自定义类型）实现，从而可以调用同一个函数名的函数但实现完全不同的功能。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">有时我们能够利用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>实现非常巧妙的功能：通常我们定义一个切片（slice）都会指定一个具体的类型，但是我们有时需要切片中的元素可以任何类型的变量，这个时候<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>就派上用场了。下面是在go代码中update数据库表中数据时，利用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>实现的骚操作，读者可以体会一下<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>带来的便利：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">generateSQLForUpdatingArticle</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(article&nbsp;model.ArticleStruct)</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>,&nbsp;[]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;columns&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">make</span>([]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>,&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;arguments&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">make</span>([]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{},&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">len</span>(article.CommentCount)&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columns&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(columns,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“comment_count&nbsp;=&nbsp;?”</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(arguments,&nbsp;article.CommentCount)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">len</span>(article.Source)&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columns&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(columns,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“source&nbsp;=&nbsp;?”</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(arguments,&nbsp;article.Source)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">len</span>(article.Summary)&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columns&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(columns,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“summary&nbsp;=&nbsp;?”</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(arguments,&nbsp;article.Summary)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">len</span>(article.Content)&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columns&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(columns,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“content&nbsp;=&nbsp;?”</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">append</span>(arguments,&nbsp;article.Content)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;:=&nbsp;fmt.Sprintf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“UPDATE&nbsp;article_structs&nbsp;SET&nbsp;%s&nbsp;WHERE&nbsp;sid&nbsp;=&nbsp;%s”</span>,&nbsp;strings.Join(columns,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“,”</span>),&nbsp;article.Sid)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;sql,&nbsp;arguments}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">UpdateArticle</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(article&nbsp;model.ArticleStruct)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">error</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;sql,&nbsp;arguments&nbsp;:=&nbsp;generateSQLForUpdatingArticle(article)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;err&nbsp;:=&nbsp;db.Exec(sql,&nbsp;arguments…).Error;&nbsp;err&nbsp;!=&nbsp;<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“Updating&nbsp;article&nbsp;failed&nbsp;with&nbsp;error:”</span>,&nbsp;err)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;err&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">然而，空接口<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface{}</code> 虽然能保存任意的值，但也带来了一个问题：一个空的接口会隐藏值对应的表示方式和所有的公开的方法，因此只有我们知道具体的动态类型才能使用类型断言来访问内部的值, 对于内部值并没有特别可做的事情；如果我们事先不知道空接口指向的值的具体类型，我们可能就束手无策了。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">这个时候我们想要知道一个接口类型的变量具体是什么（什么类型），有什么能力（有哪些方法），就需要一面“镜子”能够反射（<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>）出这个变量的具体内容。在Go语言中也正好有这样的工具——<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>。</p><br><h3 id="hreflect" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: rgb(239, 112, 96); color: rgb(255, 255, 255); padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">reflect(反射)</span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid rgb(239, 235, 233); border-right: 20px solid transparent;"> </span></h3><br><h4 id="h-6" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">概念</span></h4><br><blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: rgb(0, 0, 0); border-left: 5px solid rgb(239, 112, 96); background: rgb(239, 235, 233); overflow: auto; overflow-wrap: normal; word-break: normal;"><br>  <p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">在计算机科学领域，反射是指一类应用，它们能够自描述和自控制。也就是说，这类应用通过采用某种机制来实现对自己行为的描述（<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">self-representation</code>）和监测（<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">examination</code>），并能根据自身行为的状态和结果，调整或修改应用所描述行为的状态和相关的语义。</p><br></blockquote><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">支持反射的语言可以在程序编译期将变量的反射信息，如字段名称、类型信息、结构体信息等整合到可执行文件中，并给程序提供接口访问反射信息，这样就可以在程序运行期获取类型的反射信息，并且有能力修改它们。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">在讲反射之前，我们需要了解一下Golang关于类型设计的一些原则：</p><br><blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: rgb(0, 0, 0); border-left: 5px solid rgb(239, 112, 96); background: rgb(239, 235, 233); overflow: auto; overflow-wrap: normal; word-break: normal;"><br>  <p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">变量包含两部分：type（类型）和value（值）。</p><br>  <p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">type 分为 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">static type</code> 和 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">concrete type</code>。其中<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">static type</code>是我们在编码阶段用到的数据类型，如int、string、bool等等；而<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">concrete type</code>则是<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">runtime</code>系统看见的类型。</p><br>  <p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">接口类型的变量在类型断言时能否成功，取决于<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">concrete type</code> 而不是 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">static type</code>。</p><br></blockquote><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">在Go语言中指定类型的变量的类型都是静态的，即<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">static type</code>，其在创建变量的时候就已经确定；而反射主要是配合<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>类型变量来使用的，这些变量的类型都是<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">concrete type</code>。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">在Go的实现中，每个<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>类型的变量都有一个对应的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">pair</code>, <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">pair</code>中记录了实际变量的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">value</code>和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">type</code>：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs bash" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">(value,&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">type</span>)</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>类型变量包含了两个指针，分别指向实际变量的值（value）和类型（对应<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">concrete type</code>）。<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>及其<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">pair</code>的存在，是Golang实现反射的前提，而反射也正是用来检测接口类型变量内部存储的值和类型的一种机制。说到这里，自然也就要引出<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>包中的两个数据类<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Type</code>和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>。</p><br><h4 id="hreflecttypereflectvalue" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">reflect.Type和reflect.Value</span></h4><br><h5 id="hreflecttype" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">reflect.Type</span></h5><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>包中<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Type</code>接口定义如下：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Type&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Kind返回该接口的具体分类</span>&nbsp;&nbsp;&nbsp;&nbsp;Kind()&nbsp;Kind&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Name返回该类型在自身包内的类型名，如果是未命名类型会返回””</span>&nbsp;&nbsp;&nbsp;&nbsp;Name()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;PkgPath返回类型的包路径，即明确指定包的import路径，如”encoding/base64”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;如果类型为内建类型(string,&nbsp;error)或未命名类型(<em>T,&nbsp;struct{},&nbsp;[]int)，会返回””</em></span>&nbsp;&nbsp;&nbsp;&nbsp;PkgPath()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回类型的字符串表示。该字符串可能会使用短包名（如用base64代替”encoding/base64”）</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;也不保证每个类型的字符串表示不同。如果要比较两个类型是否相等，请直接用Type类型比较。</span>&nbsp;&nbsp;&nbsp;&nbsp;String()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回要保存一个该类型的值需要多少字节；类似unsafe.Sizeof</span>&nbsp;&nbsp;&nbsp;&nbsp;Size()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">uintptr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回当从内存中申请一个该类型值时，会对齐的字节数</span>&nbsp;&nbsp;&nbsp;&nbsp;Align()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回当该类型作为结构体的字段时，会对齐的字节数</span>&nbsp;&nbsp;&nbsp;&nbsp;FieldAlign()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;如果该类型实现了u代表的接口，会返回真</span>&nbsp;&nbsp;&nbsp;&nbsp;Implements(u&nbsp;Type)&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;如果该类型的值可以直接赋值给u代表的类型，返回真</span>&nbsp;&nbsp;&nbsp;&nbsp;AssignableTo(u&nbsp;Type)&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;如该类型的值可以转换为u代表的类型，返回真</span>&nbsp;&nbsp;&nbsp;&nbsp;ConvertibleTo(u&nbsp;Type)&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回该类型的字位数。如果该类型的Kind不是Int、Uint、Float或Complex，会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;Bits()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回array类型的长度，如非数组类型将panic</span>&nbsp;&nbsp;&nbsp;&nbsp;Len()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回该类型的元素类型，如果该类型的Kind不是Array、Chan、Map、Ptr或Slice，会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;Elem()&nbsp;Type&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回map类型的键的类型。如非映射类型将panic</span>&nbsp;&nbsp;&nbsp;&nbsp;Key()&nbsp;Type&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回一个channel类型的方向，如非通道类型将会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;ChanDir()&nbsp;ChanDir&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回struct类型的字段数（匿名字段算作一个字段），如非结构体类型将panic</span>&nbsp;&nbsp;&nbsp;&nbsp;NumField()&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回struct类型的第i个字段的类型，如非结构体或者i不在[0,&nbsp;NumField())内将会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;Field(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)&nbsp;StructField&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回索引序列指定的嵌套字段的类型，</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;等价于用索引中每个值链式调用本方法，如非结构体将会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;FieldByIndex(index&nbsp;[]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)&nbsp;StructField&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回该类型名为name的字段（会查找匿名字段及其子字段），</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;布尔值说明是否找到，如非结构体将panic</span>&nbsp;&nbsp;&nbsp;&nbsp;FieldByName(name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)&nbsp;(StructField,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;返回该类型第一个字段名满足函数match的字段，布尔值说明是否找到，如非结构体将会panic</span>&nbsp;&nbsp;&nbsp;&nbsp;FieldByNameFunc(match&nbsp;<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(StructField,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;如果函数类型的最后一个输入参数是”…”形式的参数，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">IsVariadic</span>返回真&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;如果这样，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">t</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">In</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(t.NumIn()</span>&nbsp;-&nbsp;1)返回参数的隐式的实际类型（声明类型的切片）&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;如非函数类型将<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">IsVariadic</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>类型的参数个数，如果不是函数，将会<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumIn</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>类型的第<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>个参数的类型，如非函数或者<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>不在[0,&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumIn</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>)内将会<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">In</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>类型的返回值个数，如果不是函数，将会<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumOut</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>类型的第<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>个返回值的类型，如非函数或者<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>不在[0,&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumOut</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>)内将会<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Out</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回该类型的方法集中方法的数目&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;匿名字段的方法会被计算；主体类型的方法会屏蔽匿名字段的同名方法；&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;匿名字段导致的歧义方法会滤除&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumMethod</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;返回该类型方法集中的第<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>个方法，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>不在[0,&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumMethod</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>)范围内时，将导致<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对非接口类型<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">T</span>或<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">T</span>，返回值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>字段和<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Func</span>字段描述方法的未绑定函数状态&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对接口类型，返回值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>字段描述方法的签名，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Func</span>字段为<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Method</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Method</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;根据方法名返回该类型方法集中的方法，使用一个布尔值说明是否发现该方法&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对非接口类型<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">T</span>或<em><span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">T</span>，返回值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>字段和<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Func</span>字段描述方法的未绑定函数状态&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;对接口类型，返回值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span>字段描述方法的签名，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Func</span>字段为<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">MethodByName</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(Method,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)</span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;内含隐藏或非导出方法}</em></span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">我们可以通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.TypeOf</code>接受任意<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface{}</code>类型，并返回对应的动态类型<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Type</code>：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs dart" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">num</span>&nbsp;:=&nbsp;reflect.TypeOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>)fmt.Println(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">num</span>.<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">String</span>())fmt.Println(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(230, 192, 123); word-wrap: inherit !important; word-break: inherit !important;">num</span>)</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">看一下<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">TypeOf()</code>的实现代码：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;TypeOf&nbsp;returns&nbsp;the&nbsp;reflection&nbsp;Type&nbsp;that&nbsp;represents&nbsp;the&nbsp;dynamic&nbsp;type&nbsp;of&nbsp;i.</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;If&nbsp;i&nbsp;is&nbsp;a&nbsp;nil&nbsp;interface&nbsp;value,&nbsp;TypeOf&nbsp;returns&nbsp;nil.</span><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">TypeOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Type</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;eface&nbsp;:=&nbsp;(<em>emptyInterface)(unsafe.Pointer(&amp;i))&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;toType(eface.typ)}</em></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">可以发现<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">TypeOf</code>函数的参数类型是一个<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface{}</code>，并且在函数内部将这里的具体值1进行一个隐式转换，转换为一个空接口类型的变量，这个变量包含两部分信息：1这个变量的动态类型（为int）和动态值（为1）；最后<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">TypeOf</code>的返回值是<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Type</code>类型（我们称为<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">反射类型对象</strong>），这样就能够调用上面Type接口的方法获取所需的变量信息。</p><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">当反射对象的类型是原始数据类型时：</span></li><br></ul><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">var</span>&nbsp;s&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;rString&nbsp;:=&nbsp;reflect.TypeOf(s)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rString)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//string</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rString.Name())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//string,返回表示类型名称的字符串</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rString.Kind())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//string,返回&nbsp;reflect.Kind&nbsp;类型的常量</span>}</code></pre><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">当反射对象的类型是指针类型时：</span></li><br></ul><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;Age&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;dogPtr&nbsp;:=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>}&nbsp;&nbsp;&nbsp;&nbsp;rDogPtr&nbsp;:=&nbsp;reflect.TypeOf(dogPtr)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDogPtr.Name())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;为空</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDogPtr.Kind())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;ptr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Elem()可以获取指针指向的实际变量</span>&nbsp;&nbsp;&nbsp;&nbsp;rDog&nbsp;:=&nbsp;rDogPtr.Elem()&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDogPtr.Name())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Dog</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDogPtr.Kind())&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;struct</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">可以发现从指针获取反射对象时，不能直接使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Name()</code>和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Kind()</code>，这样只能得到该指针的信息。这时可以使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Elem()</code>获取指针指向的实际变量。</p><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">当反射对象的类型是结构体类型时：</span></li><br></ul><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">如果反射对象的类型是结构体，可以通过 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">NumField()</code>和 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Field()</code> 方法获得结构体成员的详细信息。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;Age&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;dog&nbsp;:=&nbsp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>,&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>}&nbsp;&nbsp;&nbsp;&nbsp;rDog&nbsp;:=&nbsp;reflect.TypeOf(dog)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%v&nbsp;”</span>,&nbsp;rDog.Name())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Dog</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDog.Kind())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;struct</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;index&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;index&nbsp;&lt;&nbsp;rDog.NumField();&nbsp;index++&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%v&nbsp;”</span>,&nbsp;rDog.Field(index).Name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rDog.Field(index).Type)&nbsp;&nbsp;&nbsp;&nbsp;}}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">运行输出：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>Age&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span></code></pre><br><h5 id="hreflectvalue" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">reflect.Value</span></h5><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">reflect包中<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>类型定义如下：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Value&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;typ&nbsp;holds&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;value&nbsp;represented&nbsp;by&nbsp;a&nbsp;Value.</span>&nbsp;&nbsp;&nbsp;&nbsp;typ&nbsp;rtype&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Pointer-valued&nbsp;data&nbsp;or,&nbsp;if&nbsp;flagIndir&nbsp;is&nbsp;set,&nbsp;pointer&nbsp;to&nbsp;data.</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Valid&nbsp;when&nbsp;either&nbsp;flagIndir&nbsp;is&nbsp;set&nbsp;or&nbsp;typ.pointers()&nbsp;is&nbsp;true.</span>&nbsp;&nbsp;&nbsp;&nbsp;ptr&nbsp;unsafe.Pointer&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;flag&nbsp;holds&nbsp;metadata&nbsp;about&nbsp;the&nbsp;value.</span>&nbsp;&nbsp;&nbsp;&nbsp;flag}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">可以看到<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>类型包含一个类型指针、一个值指针以及标志信息。同时<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>类型还有很多方法，其中用于获取值方法：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Int</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int64</span>&nbsp;//&nbsp;获取<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>类型值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是有符号整型，则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Uint</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">uint64</span>&nbsp;//&nbsp;获取<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">unit</span>类型的值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是无符号整型（包括&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">uintptr</span>），则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Float</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">float64</span>&nbsp;//&nbsp;获取<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">float</span>类型的值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是浮点型，则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Complex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">complex128</span>&nbsp;//&nbsp;获取复数类型的值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是复数型，则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Bool</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;//&nbsp;获取布尔类型的值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是布尔型，则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Len</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的长度，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是字符串、数组、切片、映射、通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Cap</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的容量，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是数值、切片、通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Index</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的第&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>&nbsp;个元素，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是字符串、数组、切片，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>&nbsp;不能超出范围。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Bytes</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;[]<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">byte</span>&nbsp;//&nbsp;获取字节类型的值，如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值不是字节切片，则&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Slice</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i,&nbsp;j&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的切片，切片长度&nbsp;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">j</span>&nbsp;-&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>，切片容量&nbsp;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Cap</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;-&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>。//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;必须是字符串、数值、切片，如果是数组则必须可寻址。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>&nbsp;不能超出范围。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Slice3</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i,&nbsp;j,&nbsp;k&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的切片，切片长度&nbsp;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">j</span>&nbsp;-&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>，切片容量&nbsp;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">k</span>&nbsp;-&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>。//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>、<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">j</span>、<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">k</span>&nbsp;不能超出&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;的容量。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>&nbsp;&lt;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">j</span>&nbsp;&lt;=&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">k</span>。//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;必须是字符串、数值、切片，如果是数组则必须可寻址。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">i</span>&nbsp;不能超出范围。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">MapIndex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(key&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;根据&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">key</span>&nbsp;键获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的内容，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是映射。//&nbsp;如果指定的元素不存在，或&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值是未初始化的映射，则返回零值（<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">ValueOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>)</span>）<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">MapKeys</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;[]<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;获取&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的所有键的无序列表，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是映射。//&nbsp;如果&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值是未初始化的映射，则返回空列表。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">OverflowInt</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int64</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;//&nbsp;判断&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>&nbsp;是否超出&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的取值范围，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是有符号整型。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">OverflowUint</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">uint64</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;//&nbsp;判断&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>&nbsp;是否超出&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的取值范围，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是无符号整型。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">OverflowFloat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">float64</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;&nbsp;//&nbsp;判断&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>&nbsp;是否超出&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的取值范围，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是浮点型。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">OverflowComplex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">complex128</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;//&nbsp;判断&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>&nbsp;是否超出&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值的取值范围，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是复数型。</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">用于设置值方法：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetUint</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">uint64</span>)</span>&nbsp;&nbsp;//&nbsp;设置无符号整型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetFloat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">float64</span>)</span>&nbsp;//&nbsp;设置浮点类型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetComplex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">complex128</span>)</span>&nbsp;//设置复数类型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetBool</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)</span>&nbsp;//设置布尔类型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetString</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;//设置字符串类型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetLen</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(n&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;&nbsp;//&nbsp;设置切片的长度，<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">n</span>&nbsp;不能超出范围，不能为负数。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetCap</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(n&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;//设置切片的容量<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetBytes</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;[]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">byte</span>)</span>&nbsp;//设置字节类型的值<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetMapIndex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(key,&nbsp;val&nbsp;reflect.Value)</span>&nbsp;//设置<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">map</span>的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">key</span>和<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">value</span>，前提必须是初始化以后，存在覆盖、不存在添加<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Set</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;Value)</span>&nbsp;//&nbsp;将<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>的持有值修改为<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>的持有值。如果<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CanSet</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>返回假，会<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">panic</span>。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">x</span>的持有值必须能直接赋给<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>持有值的类型。</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">其他方法：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">结构体相关：<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">NumField</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;//&nbsp;获取结构体字段（成员）数量<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Field</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;&nbsp;//根据索引获取结构体字段<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">FieldByIndex</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(index&nbsp;[]<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;根据索引链获取结构体嵌套字段<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">FieldByName</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;根据名称获取结构体的字段，不存在返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">ValueOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>)</span><span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">FieldByNameFunc</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(match&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;根据匹配函数&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">match</span>&nbsp;获取字段,如果没有匹配的字段，则返回零值（<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">reflect</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">ValueOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>)</span>）通道相关：<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Send</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;reflect.Value)</span>//&nbsp;发送数据（会阻塞），<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是可写通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Recv</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;reflect.Value,&nbsp;ok&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)</span>&nbsp;//&nbsp;接收数据（会阻塞），<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是可读通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">TrySend</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;reflect.Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>&nbsp;//&nbsp;尝试发送数据（不会阻塞），<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是可写通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">TryRecv</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(x&nbsp;reflect.Value,&nbsp;ok&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">bool</span>)</span>&nbsp;//&nbsp;尝试接收数据（不会阻塞），<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值必须是可读通道。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Close</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;//&nbsp;关闭通道函数相关<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Call</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(in&nbsp;[]Value)</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(r&nbsp;[]Value)</span>&nbsp;//&nbsp;通过参数列表&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;调用&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;值所代表的函数（或方法）。函数的返回值存入&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">r</span>&nbsp;中返回。//&nbsp;要传入多少参数就在&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;中存入多少元素。//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Call</span>&nbsp;即可以调用定参函数（参数数量固定），也可以调用变参函数（参数数量可变）。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CallSlice</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(in&nbsp;[]Value)</span>&nbsp;[]<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//&nbsp;调用变参函数</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">同样地，我们可以通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf</code>接受任意interface{}类型，并返回对应的动态类型<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">v&nbsp;:=&nbsp;reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>)fmt.Println(v)&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;2</span>fmt.Println(v.String())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;&lt;int&nbsp;Value&gt;</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">看一下<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf</code>的实现代码：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">ValueOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;i&nbsp;==&nbsp;<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;Value{}&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;<span class="hljs-doctag" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">TODO:</span>&nbsp;Maybe&nbsp;allow&nbsp;contents&nbsp;of&nbsp;a&nbsp;Value&nbsp;to&nbsp;live&nbsp;on&nbsp;the&nbsp;stack.</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;For&nbsp;now&nbsp;we&nbsp;make&nbsp;the&nbsp;contents&nbsp;always&nbsp;escape&nbsp;to&nbsp;the&nbsp;heap.&nbsp;It</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;makes&nbsp;life&nbsp;easier&nbsp;in&nbsp;a&nbsp;few&nbsp;places&nbsp;(see&nbsp;chanrecv/mapassign</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;comment&nbsp;below).</span>&nbsp;&nbsp;&nbsp;&nbsp;escapes(i)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;unpackEface(i)}<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;unpackEface&nbsp;converts&nbsp;the&nbsp;empty&nbsp;interface&nbsp;i&nbsp;to&nbsp;a&nbsp;Value.</span><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">unpackEface</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(i&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;:=&nbsp;(<em>emptyInterface)(unsafe.Pointer(&amp;i))&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;<span class="hljs-doctag" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">NOTE:</span>&nbsp;don’t&nbsp;read&nbsp;e.word&nbsp;until&nbsp;we&nbsp;know&nbsp;whether&nbsp;it&nbsp;is&nbsp;really&nbsp;a&nbsp;pointer&nbsp;or&nbsp;not.</span>&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;:=&nbsp;e.typ&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;t&nbsp;==&nbsp;<span class="hljs-literal" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(86, 182, 194); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;Value{}&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;:=&nbsp;flag(t.Kind())&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;ifaceIndir(t)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;|=&nbsp;flagIndir&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;Value{t,&nbsp;e.word,&nbsp;f}}</em></code></pre><br><blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: rgb(0, 0, 0); border-left: 5px solid rgb(239, 112, 96); background: rgb(239, 235, 233); overflow: auto; overflow-wrap: normal; word-break: normal;"><br>  <p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;">escapes() 涉及栈和堆的对象分配以及逃逸分析，有兴趣的可以看 William Kennedy 写的系列文章: <a href="https://studygolang.com/articles/12444" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;" target="_blank" rel="noopener">Go 语言机制之逃逸分析</a></p><br></blockquote><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">跟<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.TypeOf</code>类似，<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">ValueOf</code>函数的参数类型是一个interface{}，在函数内部将入参进行一个隐式转换，转换为一个空接口类型的变量，最终返回一个<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>对象，并且<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf</code>返回值也是<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">反射类型对象</strong>。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">可以注意到<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>对象中也包含了实际值的类型信息，通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Type()</code> 方法将返回具体类型所对应的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Type</code>:</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">v&nbsp;:=&nbsp;reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>)t&nbsp;:=&nbsp;v.Type()fmt.Println(t)&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;int</span>fmt.Println(t.String())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;int</span></code></pre><br><h4 id="hrelfectvalue" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">通过<code>relfect.Value</code>获取实际变量的信息</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">现在我们知道了通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf</code>可以将<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">接口类型变量</strong>转换成<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">反射类型变量</strong>，当然我们也可以通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value.Interface</code>方法逆操作回去，然后通过断言的方式得到实际值:</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">v&nbsp;:=&nbsp;reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>)i&nbsp;:=&nbsp;v.Interface()<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;num,&nbsp;ok&nbsp;:=&nbsp;i.(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>);&nbsp;ok&nbsp;{&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;类型断言</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(num)}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">但通常在实际场景中，我们其实并不知道原始值的类型，这里就需要利用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Type</code>和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>的方法探索原始值的信息。下面通过一个例子说明：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;Age&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Eat</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;eating.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;<em>Dog)</em></span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Run</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;running.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Sleep</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;sleeping.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Jump</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s&nbsp;is&nbsp;jumping.”</span>,&nbsp;dog.Name)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;doggy&nbsp;:=&nbsp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>,&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>}&nbsp;&nbsp;&nbsp;&nbsp;checkFieldAndMethod(doggy)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“”</span>)&nbsp;&nbsp;&nbsp;&nbsp;tommy&nbsp;:=&nbsp;&amp;Dog{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“tommy”</span>,&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>}&nbsp;&nbsp;&nbsp;&nbsp;checkFieldAndMethod(tommy)}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">checkFieldAndMethod</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(input&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">interface</span>{})</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;inputType&nbsp;:=&nbsp;reflect.TypeOf(input)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“Type&nbsp;of&nbsp;input&nbsp;is&nbsp;:”</span>,&nbsp;inputType.Name())&nbsp;&nbsp;&nbsp;&nbsp;inputValue&nbsp;:=&nbsp;reflect.ValueOf(input)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“Value&nbsp;of&nbsp;input&nbsp;is&nbsp;:”</span>,&nbsp;inputValue)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;如果input原始类型时指针，通过Elem()方法或者Indirect()获取指针指向的值</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;inputValue.Kind()&nbsp;==&nbsp;reflect.Ptr&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputValue&nbsp;=&nbsp;inputValue.Elem()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;inputValue&nbsp;=&nbsp;reflect.Indirect(inputValue)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“Value&nbsp;input&nbsp;points&nbsp;to&nbsp;is&nbsp;:”</span>,&nbsp;inputValue)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//使用NumField()得到结构体中字段的数量，遍历得到字段的值Field(i)和类型Field(i).Type()</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;i&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;inputValue.NumField();&nbsp;i++&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;:=&nbsp;inputValue.Type().Field(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;:=&nbsp;inputValue.Field(i).Interface()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s:&nbsp;%v&nbsp;=&nbsp;%v\n”</span>,&nbsp;field.Name,&nbsp;field.Type,&nbsp;value)&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;获取方法</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;i&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;inputType.NumMethod();&nbsp;i++&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;:=&nbsp;inputType.Method(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.Printf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“%s:&nbsp;%v\n”</span>,&nbsp;m.Name,&nbsp;m.Type)&nbsp;&nbsp;&nbsp;&nbsp;}}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">运行之后输出：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs delphi" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">Type</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;input&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;:&nbsp;DogValue&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;input&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;:&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">{doggy&nbsp;2}</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">Name</span>:&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;=&nbsp;doggyAge:&nbsp;int&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>Jump:&nbsp;func(main.Dog)Sleep:&nbsp;func(main.Dog)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">Type</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;input&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;:&nbsp;Value&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;input&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;:&nbsp;&amp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">{tommy&nbsp;2}</span>Value&nbsp;input&nbsp;points&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">to</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;:&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">{tommy&nbsp;2}</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">Name</span>:&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;=&nbsp;tommyAge:&nbsp;int&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>Eat:&nbsp;func<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">(main.Dog)Jump:&nbsp;func(<em>main.Dog)Run:&nbsp;func(</em>main.Dog)Sleep:&nbsp;func(<em>main.Dog)</em></span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">利用反射获取原始值得类型和方法的步骤如下：</p><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">判断原始值是值变量还是指针变量，如果是指针变量，则通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Elem()</code>方法或者<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Indirect()</code>获取指针指向的值；</li><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">NumField()</code>得到结构体中字段的数量，遍历得到字段的值<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Field(i)</code>和类型<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Field(i).Type()</code>；</li><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">NumMethod()</code>得到结构体的方法，遍历得到方法的名称和类型。</li><br></ul><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">另外，在使用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>过程有时会对<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Elem()</code>方法和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Indirect()</code>有些迷惑，搞不清这两个方法的区别，这里总结一下：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;Elem&nbsp;returns&nbsp;the&nbsp;value&nbsp;that&nbsp;the&nbsp;interface&nbsp;v&nbsp;contains</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;or&nbsp;that&nbsp;the&nbsp;pointer&nbsp;v&nbsp;points&nbsp;to.</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v’s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Interface&nbsp;or&nbsp;Ptr.</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;v&nbsp;is&nbsp;nil.</span><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Elem</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Indirect</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">returns</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">the</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">value</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">that</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">points</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">to</span>.//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">If</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">a</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">nil</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">pointer</span>,&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Indirect</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">returns</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">a</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">zero</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>.//&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">If</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">is</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">not</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">a</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">pointer</span>,&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Indirect</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">returns</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>.<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Indirect</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span></span></code></pre><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Elem</code>返回v持有的接口保管的值的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>封装，或者v持有的指针指向的值的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>封装。如果v的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Kind</code>不是<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Interface</code>或<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Ptr</code>会<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">panic</code>；如果v持有的值为<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">nil</code>，会返回<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>零值。</li><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Indirect</code>返回v持有的指针指向的值的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>封装。如果v持有的值为<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">nil</code>，会返回<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>零值。如果v持有的变量不是指针，那么将返回原值v。</li><br></ul><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">也就是说，当v持有的变量是指针时，<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Elem()</code>方法和<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Indirect()</code>是等价的。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">细心的读者可能发现对于值变量和指针变量，通过反射获取到的变量方法有些差异，这个问题就留给读者自己思考吧。</p><br><h4 id="hrelfectvalue-1" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">通过<code>relfect.Value</code>修改实际变量的信息</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">当通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">relfect.Value</code>修改实际变量的信息是常用到以下反射值对象的方法：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Elem</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;&nbsp;//<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Elem</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>持有的接口保管的值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>封装，或者<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>持有的指针指向的值的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>封装，类似于操作，此时的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>表示的是<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>的元素且可以寻址。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Addr</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>&nbsp;//<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Addr</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>返回一个持有指向<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>变量地址的指针的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>封装，类似于&amp;操作。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CanAddr</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>//<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CanAddr</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>返回是否可以获取<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>持有值的指针。可以获取指针的值被称为可寻址的。<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CanSet</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">bool</span>//<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">CanSet</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span>返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>持有的值是否可以被修改</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">然而，值得注意的是并不是所有<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>类型的反射值都可以修改，考虑下面这个例子：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>)<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>&nbsp;&nbsp;&nbsp;&nbsp;rA&nbsp;:=&nbsp;reflect.ValueOf(a)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rA.CanSet())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//false</span>&nbsp;&nbsp;&nbsp;&nbsp;rAptr&nbsp;:=&nbsp;reflect.ValueOf(&amp;a)&nbsp;&nbsp;&nbsp;&nbsp;rA2&nbsp;:=&nbsp;rAptr.Elem()&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rA2.CanSet())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//true</span>&nbsp;&nbsp;&nbsp;&nbsp;rA2.SetInt(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(rA2.Int())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//2</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">修改反射类型变量的值有两个条件：</p><br><ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;"><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">反射类型变量的值是<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">addressable</code>的，即可取地址的；</li><br><li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">反射类型变量的值来自导出字段。</span></li><br></ul><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">有一些修改反射类型变量是可寻址的，有一些则不是：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>)<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;:=&nbsp;reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;:=&nbsp;reflect.ValueOf(x)&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;:=&nbsp;reflect.ValueOf(&amp;x)&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;:=&nbsp;c.Elem()&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(a.CanAddr())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;false</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(b.CanAddr())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;false</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(c.CanAddr())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;false</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(d.CanAddr())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;true</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">对于非指针变量x，通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf(x)</code>返回的 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>是不可取地址的。但是对于d，它是c的解引用方式生成的，指向另一个变量，因此是可 取地址的。我们可以通过调用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.ValueOf(&amp;x).Elem()</code>，获取到x对应的可取地址的反射值。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">对于结构体类型变量，如果成员字段没有导出，那么虽然可以被访问，但不能通过反射修改：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;Age&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;&nbsp;&nbsp;&nbsp;sex&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;rDog&nbsp;:=&nbsp;reflect.ValueOf(&amp;Dog{}).Elem()&nbsp;&nbsp;&nbsp;&nbsp;vAge&nbsp;:=&nbsp;rDog.FieldByName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“Age”</span>)&nbsp;&nbsp;&nbsp;&nbsp;vAge.SetInt(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>)&nbsp;&nbsp;&nbsp;&nbsp;vSex&nbsp;:=&nbsp;rDog.FieldByName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“sex”</span>)&nbsp;&nbsp;&nbsp;&nbsp;vSex.SetString(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“male”</span>)}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">运行出现报错：SetString使用的值来自于一个未导出的字段。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">panic:&nbsp;reflect:&nbsp;reflect.Value.SetString&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">using</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">value</span>&nbsp;obtained&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">using</span>&nbsp;unexported&nbsp;field</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">为了能修改这个值，需要将该字段导出。将Dog类型中的 sex成员首字母大写即可。</p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">修改可取地址的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>持有的变量值，除了可以通过反射的Set系列方法，还可以通过从反射类型变量获取实际值的指针来修改：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>)<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;:=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;:=&nbsp;reflect.ValueOf(&amp;x).Elem()&nbsp;&nbsp;&nbsp;&nbsp;px&nbsp;:=&nbsp;v.Addr().Interface().(<em><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)&nbsp;&nbsp;&nbsp;&nbsp;</em>px&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">2</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Print(x)&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//2</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">首先调用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Addr()</code>方法，返回 一个持有指向变量的指针的<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>；然后在<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Value</code>上调用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Interface()</code>方法，返回一个 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface{}</code>，里面包含指向变量的指针；最后通过类型断言得到普通指针来修改变量的值。</p><br><h4 id="h-7" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; font-size: 1.2em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">通过反射调用函数</span></h4><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">如果反射值对象（<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>）持有值的类型为函数时，可以通过 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code> 调用该函数。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Call</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(in&nbsp;[]Value)</span>&nbsp;[]<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span></span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">Call</code>方法使用输入的参数in调用v持有的函数。参数in是反射值对象的切片，即<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">[]reflect.Value</code>；调用完成时，函数的返回值通过 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">[]reflect.Value</code> 返回。</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>)<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">add</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(a,&nbsp;b&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">int</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;a&nbsp;+&nbsp;b}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;将函数add包装为反射值对象</span>&nbsp;&nbsp;&nbsp;&nbsp;funcValue&nbsp;:=&nbsp;reflect.ValueOf(add)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;构造函数add的参数,&nbsp;传入两个整型值</span>&nbsp;&nbsp;&nbsp;&nbsp;paramList&nbsp;:=&nbsp;[]reflect.Value{reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">5</span>),&nbsp;reflect.ValueOf(<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">10</span>)}&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;反射调用函数Call()</span>&nbsp;&nbsp;&nbsp;&nbsp;retList&nbsp;:=&nbsp;funcValue.Call(paramList)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;获取第一个返回值,&nbsp;取整数值</span>&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(retList[<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>].Int())&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//返回&nbsp;15</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">如果需要通过反射调用结构体的方法，可以利用<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">MethodByName</code>方法来完成：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(v&nbsp;Value)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">MethodByName</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>//返回<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>的名为<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">name</span>的方法的已绑定（到<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">v</span>的持有值的）状态的函数形式的<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">Value</span>封装。</span></code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">举例：</p><br><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="Go language-Go hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">package</span>&nbsp;main&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">import</span>(&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“fmt”</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“reflect”</span>)<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">type</span>&nbsp;Dog&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">struct</span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>&nbsp;&nbsp;&nbsp;&nbsp;Age&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(dog&nbsp;*Dog)</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">SetName</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(name&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">string</span>)</span></span>{&nbsp;&nbsp;&nbsp;&nbsp;dog.Name&nbsp;=&nbsp;name}<span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">func</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">()</span></span>&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;dog&nbsp;:=&nbsp;Dog{}&nbsp;&nbsp;&nbsp;&nbsp;rDog&nbsp;:=&nbsp;reflect.ValueOf(&amp;dog)&nbsp;&nbsp;&nbsp;&nbsp;paramList1&nbsp;:=&nbsp;[]reflect.Value{reflect.ValueOf(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“doggy”</span>)}&nbsp;&nbsp;&nbsp;&nbsp;rDog.MethodByName(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">“SetName”</span>).Call(paramList1)&nbsp;&nbsp;&nbsp;&nbsp;fmt.Println(dog.Name)&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//doggy</span>}</code></pre><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">值得注意的是，反射调用函数的过程需要构造大量的 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code> 和中间变量，对函数参数值进行逐一检查，还需要将调用参数复制到调用函数的参数内存中。调用完毕后，还需要将返回值转换为 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect.Value</code>，用户还需要从中取出调用值。因此反射调用函数的<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(255, 80, 44);">性能问题尤为突出</strong>，不建议大量使用反射函数调用。</p><br><h3 id="h-8" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: rgb(239, 112, 96); color: rgb(255, 255, 255); padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">总结</span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid rgb(239, 235, 233); border-right: 20px solid transparent;"> </span></h3><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;">本文介绍了Go语言中<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">interface</code>的定义、用法以及副作用，并由此引入<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>，通过大量示例详细介绍了<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>的概念，通过<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(255, 80, 44); background: rgb(248, 248, 248);">reflect</code>获取值、修改值的用法，以及调用函数的用法。内容上可以说相当详实具体了，在此过程中也让笔者自己对这部分的知识有了更深刻的认识，也希望有幸能带给读者一点帮助吧。</p><br><h3 id="h-9" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.6em 0px; font-weight: bold; border-bottom: 2px solid rgb(239, 112, 96); font-size: 1.3em;"><span style="font-size: inherit; line-height: inherit; margin: 0px; display: inline-block; font-weight: normal; background: rgb(239, 112, 96); color: rgb(255, 255, 255); padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">参考资料</span><span style="display: inline-block; vertical-align: bottom; border-bottom: 36px solid rgb(239, 235, 233); border-right: 20px solid transparent;"> </span></h3><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><a href="https://studygolang.com/pkgdoc" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;" target="_blank" rel="noopener">【Golang标准库文档】</a></p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><a href="https://www.cnblogs.com/foxy/p/9035271.html" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;" target="_blank" rel="noopener">【Golang的反射reflect深入理解和示例】</a></p><br><p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.7em 0px;"><a href="https://juejin.im/entry/5a961abf6fb9a0634e6cbf02" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;" target="_blank" rel="noopener">【Go addressable 详解】</a></p></div>

                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2019/11/17/Golang-series-http-server/" data-toggle="tooltip" data-placement="top" title="Go基础系列：深入理解 http server">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2019/07/17/understand-redux-middleware/" data-toggle="tooltip" data-placement="top" title="理解Redux中间件，这一篇就够了">Next Post &rarr;</a>
                        </li>
                    
                </ul>
                <div id="gitalk-container"></div>
                

                

            </div>

            
    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                

                <!-- Friends Blog -->
                
            </div>

        </div>
    </div>
</article>







<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/hudingyu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Turling Blog 2019 
                    <!-- <br> -->
                    <!-- Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> |  -->
                    <!-- <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe> -->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://turling.me/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<script type="text/javascript">
    const gitalk = new Gitalk({
        clientID: 'd526317e8c13bd9e1344',
        clientSecret: '3f2e043a8a04f4babf9e5d0804fd8e14f1b8d75d',
        repo: 'blog-comments',
        owner: 'hudingyu',
        admin: ['hudingyu'],
        id: md5(location.pathname),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
  </script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '140353961df3b8b3911818d8a175b712';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<!-- <img src="https://turling.me/img/icon_wechat.png" width="0" height="0" /> -->
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
